{"version":3,"file":"_index-8ccf3995.cjs","sources":["../src/desk/panes/userComponent/UserComponentPaneHeader.tsx","../src/desk/panes/userComponent/UserComponentPaneContent.tsx","../src/desk/panes/userComponent/UserComponentPane.tsx"],"sourcesContent":["import React from 'react'\nimport {ArrowLeftIcon} from '@sanity/icons'\nimport {Button} from '@sanity/ui'\nimport {PaneMenuItem, PaneMenuItemGroup, DeskToolPaneActionHandler} from '../../types'\nimport {BackLink, PaneHeader, PaneHeaderActions} from '../../components'\nimport {useDeskTool} from '../../useDeskTool'\n\ninterface UserComponentPaneHeaderProps {\n  actionHandlers?: Record<string, DeskToolPaneActionHandler>\n  index: number\n  menuItems?: PaneMenuItem[]\n  menuItemGroups?: PaneMenuItemGroup[]\n  title: string\n}\n\nexport function UserComponentPaneHeader(props: UserComponentPaneHeaderProps) {\n  const {actionHandlers, index, menuItems, menuItemGroups, title} = props\n  const {features} = useDeskTool()\n\n  if (!menuItems?.length && !title) {\n    return null\n  }\n\n  return (\n    <PaneHeader\n      actions={\n        <PaneHeaderActions\n          menuItems={menuItems}\n          menuItemGroups={menuItemGroups}\n          actionHandlers={actionHandlers}\n        />\n      }\n      backButton={\n        features.backButton &&\n        index > 0 && <Button as={BackLink} data-as=\"a\" icon={ArrowLeftIcon} mode=\"bleed\" />\n      }\n      title={title}\n    />\n  )\n}\n","import {Box} from '@sanity/ui'\nimport React from 'react'\nimport styled from 'styled-components'\nimport {usePane} from '../../components'\n\ninterface UserComponentPaneContentProps {\n  children: React.ReactNode\n}\n\nconst Root = styled(Box)`\n  position: relative;\n`\n\nexport function UserComponentPaneContent(props: UserComponentPaneContentProps) {\n  const {children} = props\n  const {collapsed} = usePane()\n\n  return (\n    <Root hidden={collapsed} height=\"fill\" overflow=\"auto\">\n      {children}\n    </Root>\n  )\n}\n","import React, {createElement, isValidElement, useState} from 'react'\nimport {isValidElementType} from 'react-is'\nimport {Pane, usePaneRouter} from '../../components'\nimport {DeskToolPaneActionHandler} from '../../types'\nimport {BaseDeskToolPaneProps} from '../types'\nimport {UserComponentPaneHeader} from './UserComponentPaneHeader'\nimport {UserComponentPaneContent} from './UserComponentPaneContent'\n\ntype UserComponentPaneProps = BaseDeskToolPaneProps<'component'>\n\n/**\n * @internal\n */\nexport function UserComponentPane(props: UserComponentPaneProps) {\n  const {index, pane, paneKey, ...restProps} = props\n  const {params} = usePaneRouter()\n  const {\n    child,\n    component,\n    menuItems,\n    menuItemGroups,\n    title = '',\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    type: _unused,\n    __preserveInstance = false,\n    ...restPane\n  } = pane\n  const [ref, setRef] = useState<{\n    actionHandlers?: Record<string, DeskToolPaneActionHandler>\n  } | null>(null)\n\n  return (\n    <Pane id={paneKey} minWidth={320} selected={restProps.isSelected}>\n      <UserComponentPaneHeader\n        actionHandlers={ref?.actionHandlers}\n        index={index}\n        menuItems={menuItems}\n        menuItemGroups={menuItemGroups}\n        title={title}\n      />\n\n      <UserComponentPaneContent>\n        {isValidElementType(component) &&\n          createElement(component, {\n            // this forces a re-render when the router panes change. note: in\n            // theory, this shouldn't be necessary and the downstream user\n            // component could internally handle these updates, but this was done\n            // to preserve older desk tool behavior. if the experimental flag\n            // `__preserveInstance` is true, then no key will be applied.\n            ...(!__preserveInstance && {\n              key: `${restProps.itemId}-${restProps.childItemId}`,\n            }),\n            ...restProps,\n            ...restPane,\n            // NOTE: here we're utilizing the function form of refs so setting\n            // the ref causes a re-render for `UserComponentPaneHeader`\n            ...({ref: setRef} as any),\n            child: child as any, // @todo: Fix typings\n            paneKey,\n            // NOTE: this is for backwards compatibility (<= 2.20.0)\n            urlParams: params,\n          })}\n\n        {isValidElement(component) && component}\n      </UserComponentPaneContent>\n    </Pane>\n  )\n}\n"],"names":["UserComponentPaneHeader","props","actionHandlers","index","menuItems","menuItemGroups","title","features","useDeskTool","length","jsx","PaneHeader","actions","PaneHeaderActions","backButton","Button","as","BackLink","icon","ArrowLeftIcon","mode","Root","styled","Box","UserComponentPaneContent","children","collapsed","usePane","hidden","height","overflow","UserComponentPane","pane","paneKey","restProps","params","usePaneRouter","child","component","type","_unused","__preserveInstance","restPane","ref","setRef","useState","jsxs","Pane","id","minWidth","selected","isSelected","isValidElementType","createElement","key","itemId","childItemId","urlParams","isValidElement"],"mappings":"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"}