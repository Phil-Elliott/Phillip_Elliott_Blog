"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useLink = useLink;

var _react = require("react");

var _useRouter = require("./useRouter");

function isLeftClickEvent(event) {
  return event.button === 0;
}

function isModifiedEvent(event) {
  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);
}
/**
 * @public
 */


function useLink(props) {
  const {
    onClick: onClickProp,
    href,
    target,
    replace = false
  } = props;
  const {
    navigateUrl
  } = (0, _useRouter.useRouter)();
  const onClick = (0, _react.useCallback)(event => {
    if (event.isDefaultPrevented()) {
      return;
    }

    if (!href) return;

    if (onClickProp) {
      onClickProp(event);
    }

    if (isModifiedEvent(event) || !isLeftClickEvent(event)) {
      return;
    } // If target prop is set (e.g. to "_blank") let browser handle link.


    if (target) {
      return;
    }

    event.preventDefault();
    navigateUrl({
      path: href,
      replace
    });
  }, [href, navigateUrl, onClickProp, replace, target]);
  return {
    onClick: onClick
  };
}