import _identity from "lodash/identity";
import { useEffect, useState } from 'react';
import { useRouter } from './useRouter';
/**
 * @public
 */

/**
 * @public
 */
export function useRouterState() {
  let selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _identity;
  const {
    state
  } = useRouter();
  const [selectedState, setState] = useState(() => selector(state)); // reset the state when the `selector` prop changes

  useEffect(() => setState(selector(state)), [selector, state]);
  return selectedState;
}