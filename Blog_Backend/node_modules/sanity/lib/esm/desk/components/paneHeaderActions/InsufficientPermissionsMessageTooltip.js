import { Tooltip, Text, Box } from '@sanity/ui';
import React from 'react';
import { InsufficientPermissionsMessage } from '../../../components/InsufficientPermissionsMessage';
import { useCurrentUser } from '../../../datastores';
export function InsufficientPermissionsMessageTooltip(_ref) {
  let {
    reveal,
    loading,
    children
  } = _ref;
  const currentUser = useCurrentUser();

  if (!reveal) {
    return /*#__PURE__*/React.createElement(React.Fragment, null, children);
  }

  return /*#__PURE__*/React.createElement(Tooltip, {
    content: loading ? /*#__PURE__*/React.createElement(Box, {
      padding: 2
    }, /*#__PURE__*/React.createElement(Text, null, "Loading\u2026")) : /*#__PURE__*/React.createElement(InsufficientPermissionsMessage, {
      currentUser: currentUser
    }),
    portal: true
  }, /*#__PURE__*/React.createElement("div", null, children));
}