{"version":3,"file":"index.js","sources":["../src/config.ts","../../../../node_modules/object-assign/index.js","../../../../node_modules/rxjs/internal/util/isFunction.js","../../../../node_modules/rxjs/internal/config.js","../../../../node_modules/rxjs/internal/util/hostReportError.js","../../../../node_modules/rxjs/internal/Observer.js","../../../../node_modules/rxjs/internal/util/isArray.js","../../../../node_modules/rxjs/internal/util/isObject.js","../../../../node_modules/rxjs/internal/util/UnsubscriptionError.js","../../../../node_modules/rxjs/internal/Subscription.js","../../../../node_modules/rxjs/internal/symbol/rxSubscriber.js","../../../../node_modules/rxjs/internal/Subscriber.js","../../../../node_modules/rxjs/internal/util/canReportError.js","../../../../node_modules/rxjs/internal/util/toSubscriber.js","../../../../node_modules/rxjs/internal/symbol/observable.js","../../../../node_modules/rxjs/internal/util/identity.js","../../../../node_modules/rxjs/internal/util/pipe.js","../../../../node_modules/rxjs/internal/Observable.js","../../../../node_modules/rxjs/internal/operators/filter.js","../../../../node_modules/rxjs/internal/operators/map.js","../../../../node_modules/@sanity/client/lib/util/observable.js","../../../../node_modules/@sanity/client/lib/util/getSelection.js","../../../../node_modules/@sanity/client/lib/validators.js","../../../../node_modules/@sanity/client/lib/data/patch.js","../../../../node_modules/@sanity/client/lib/data/transaction.js","../../../../node_modules/@sanity/client/lib/data/encodeQueryString.js","../../../../node_modules/eventsource/lib/eventsource.js","../../../../node_modules/@sanity/client/node_modules/@sanity/eventsource/node.js","../../../../node_modules/@sanity/client/lib/util/pick.js","../../../../node_modules/@sanity/client/lib/util/defaults.js","../../../../node_modules/@sanity/client/lib/data/listen.js","../../../../node_modules/@sanity/client/lib/data/dataMethods.js","../../../../node_modules/@sanity/client/lib/datasets/datasetsClient.js","../../../../node_modules/@sanity/client/lib/projects/projectsClient.js","../../../../node_modules/@sanity/client/lib/http/queryString.js","../../../../node_modules/@sanity/client/lib/assets/assetsClient.js","../../../../node_modules/@sanity/client/lib/users/usersClient.js","../../../../node_modules/@sanity/client/lib/auth/authClient.js","../../../../node_modules/make-error/index.js","../../../../node_modules/@sanity/client/lib/http/errors.js","../../../../node_modules/@sanity/client/lib/http/nodeMiddleware.js","../../../../node_modules/@sanity/client/lib/http/request.js","../../../../node_modules/@sanity/client/lib/http/requestOptions.js","../../../../node_modules/@sanity/client/lib/generateHelpUrl.js","../../../../node_modules/@sanity/client/lib/util/once.js","../../../../node_modules/@sanity/client/lib/warnings.js","../../../../node_modules/@sanity/client/lib/config.js","../../../../node_modules/@sanity/client/lib/sanityClient.js","../src/util/dynamicRequire.ts","../src/util/getCliConfig.ts","../../../../node_modules/ms/index.js","../node_modules/debug/src/common.js","../node_modules/debug/src/browser.js","../../../../node_modules/has-flag/index.js","../../../../node_modules/supports-color/index.js","../node_modules/debug/src/node.js","../node_modules/debug/src/index.js","../src/debug.ts","../src/util/resolveRootDir.ts","../src/cliClient.ts"],"sourcesContent":["import type {CliConfig} from './types'\n\nexport function createCliConfig(config: CliConfig): CliConfig {\n  return config\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\nexports.isFunction = isFunction;\n//# sourceMappingURL=isFunction.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexports.config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = new Error();\n            console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n//# sourceMappingURL=config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\nexports.hostReportError = hostReportError;\n//# sourceMappingURL=hostReportError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar config_1 = require(\"./config\");\nvar hostReportError_1 = require(\"./util/hostReportError\");\nexports.empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError_1.hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArray = (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n//# sourceMappingURL=isArray.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObject(x) {\n    return x !== null && typeof x === 'object';\n}\nexports.isObject = isObject;\n//# sourceMappingURL=isObject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar UnsubscriptionErrorImpl = (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nexports.UnsubscriptionError = UnsubscriptionErrorImpl;\n//# sourceMappingURL=UnsubscriptionError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isArray_1 = require(\"./util/isArray\");\nvar isObject_1 = require(\"./util/isObject\");\nvar isFunction_1 = require(\"./util/isFunction\");\nvar UnsubscriptionError_1 = require(\"./util/UnsubscriptionError\");\nvar Subscription = (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._ctorUnsubscribe = true;\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _ctorUnsubscribe = _a._ctorUnsubscribe, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            if (_ctorUnsubscribe) {\n                this._unsubscribe = undefined;\n            }\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError_1.UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError_1.UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rxSubscriber = (function () {\n    return typeof Symbol === 'function'\n        ? Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + Math.random();\n})();\nexports.$$rxSubscriber = exports.rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isFunction_1 = require(\"./util/isFunction\");\nvar Observer_1 = require(\"./Observer\");\nvar Subscription_1 = require(\"./Subscription\");\nvar rxSubscriber_1 = require(\"../internal/symbol/rxSubscriber\");\nvar config_1 = require(\"./config\");\nvar hostReportError_1 = require(\"./util/hostReportError\");\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== Observer_1.empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config_1.config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError_1.hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError_1.hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config_1.config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexports.SafeSubscriber = SafeSubscriber;\n//# sourceMappingURL=Subscriber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber_1.Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\nexports.canReportError = canReportError;\n//# sourceMappingURL=canReportError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nvar rxSubscriber_1 = require(\"../symbol/rxSubscriber\");\nvar Observer_1 = require(\"../Observer\");\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n            return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_1.Subscriber(Observer_1.empty);\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n//# sourceMappingURL=toSubscriber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.observable = (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n//# sourceMappingURL=identity.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar identity_1 = require(\"./identity\");\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexports.pipe = pipe;\nfunction pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity_1.identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\nexports.pipeFromArray = pipeFromArray;\n//# sourceMappingURL=pipe.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar canReportError_1 = require(\"./util/canReportError\");\nvar toSubscriber_1 = require(\"./util/toSubscriber\");\nvar observable_1 = require(\"./symbol/observable\");\nvar pipe_1 = require(\"./util/pipe\");\nvar config_1 = require(\"./config\");\nvar Observable = (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config_1.config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError_1.canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[observable_1.observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipe_1.pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config_1.config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction filter(predicate, thisArg) {\n    return function filterOperatorFunction(source) {\n        return source.lift(new FilterOperator(predicate, thisArg));\n    };\n}\nexports.filter = filter;\nvar FilterOperator = (function () {\n    function FilterOperator(predicate, thisArg) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n    }\n    FilterOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n    };\n    return FilterOperator;\n}());\nvar FilterSubscriber = (function (_super) {\n    __extends(FilterSubscriber, _super);\n    function FilterSubscriber(destination, predicate, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.thisArg = thisArg;\n        _this.count = 0;\n        return _this;\n    }\n    FilterSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.destination.next(value);\n        }\n    };\n    return FilterSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=filter.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nexports.map = map;\nvar MapOperator = (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexports.MapOperator = MapOperator;\nvar MapSubscriber = (function (_super) {\n    __extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.count = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=map.js.map","\"use strict\";\n\n//  Since `@sanity/client` doesn't offer ESM exports (yet) const {filter} = require('rxjs/operators') will cause the the whole of rxjs to be included in the bundle.\n//  The internal import paths here is a stop-gap measure and will become less of a problem when @sanity/client export tree-shakeable esm bundles\nvar _require = require('rxjs/internal/Observable'),\n    Observable = _require.Observable;\n\nvar _require2 = require('rxjs/internal/operators/filter'),\n    filter = _require2.filter;\n\nvar _require3 = require('rxjs/internal/operators/map'),\n    map = _require3.map;\n\nmodule.exports = {\n  Observable: Observable,\n  filter: filter,\n  map: map\n};","\"use strict\";\n\nmodule.exports = function getSelection(sel) {\n  if (typeof sel === 'string' || Array.isArray(sel)) {\n    return {\n      id: sel\n    };\n  }\n\n  if (sel && sel.query) {\n    return 'params' in sel ? {\n      query: sel.query,\n      params: sel.params\n    } : {\n      query: sel.query\n    };\n  }\n\n  var selectionOpts = ['* Document ID (<docId>)', '* Array of document IDs', '* Object containing `query`'].join('\\n');\n  throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n};","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar VALID_ASSET_TYPES = ['image', 'file'];\nvar VALID_INSERT_LOCATIONS = ['before', 'after', 'replace'];\n\nexports.dataset = function (name) {\n  if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name)) {\n    throw new Error('Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters');\n  }\n};\n\nexports.projectId = function (id) {\n  if (!/^[-a-z0-9]+$/i.test(id)) {\n    throw new Error('`projectId` can only contain only a-z, 0-9 and dashes');\n  }\n};\n\nexports.validateAssetType = function (type) {\n  if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n    throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(', ')));\n  }\n};\n\nexports.validateObject = function (op, val) {\n  if (val === null || _typeof(val) !== 'object' || Array.isArray(val)) {\n    throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n  }\n};\n\nexports.requireDocumentId = function (op, doc) {\n  if (!doc._id) {\n    throw new Error(\"\".concat(op, \"() requires that the document contains an ID (\\\"_id\\\" property)\"));\n  }\n\n  exports.validateDocumentId(op, doc._id);\n};\n\nexports.validateDocumentId = function (op, id) {\n  if (typeof id !== 'string' || !/^[a-z0-9_.-]+$/i.test(id)) {\n    throw new Error(\"\".concat(op, \"(): \\\"\").concat(id, \"\\\" is not a valid document ID\"));\n  }\n};\n\nexports.validateInsert = function (at, selector, items) {\n  var signature = 'insert(at, selector, items)';\n\n  if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n    var valid = VALID_INSERT_LOCATIONS.map(function (loc) {\n      return \"\\\"\".concat(loc, \"\\\"\");\n    }).join(', ');\n    throw new Error(\"\".concat(signature, \" takes an \\\"at\\\"-argument which is one of: \").concat(valid));\n  }\n\n  if (typeof selector !== 'string') {\n    throw new Error(\"\".concat(signature, \" takes a \\\"selector\\\"-argument which must be a string\"));\n  }\n\n  if (!Array.isArray(items)) {\n    throw new Error(\"\".concat(signature, \" takes an \\\"items\\\"-argument which must be an array\"));\n  }\n};\n\nexports.hasDataset = function (config) {\n  if (!config.dataset) {\n    throw new Error('`dataset` must be provided to perform queries');\n  }\n\n  return config.dataset || '';\n};\n\nexports.requestTag = function (tag) {\n  if (typeof tag !== 'string' || !/^[a-z0-9._-]{1,75}$/i.test(tag)) {\n    throw new Error(\"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\");\n  }\n\n  return tag;\n};","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar getSelection = require('../util/getSelection');\n\nvar validate = require('../validators');\n\nvar validateObject = validate.validateObject;\nvar validateInsert = validate.validateInsert;\n\nfunction Patch(selection) {\n  var operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var client = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  this.selection = selection;\n  this.operations = assign({}, operations);\n  this.client = client;\n}\n\nassign(Patch.prototype, {\n  clone: function clone() {\n    return new Patch(this.selection, assign({}, this.operations), this.client);\n  },\n  set: function set(props) {\n    return this._assign('set', props);\n  },\n  diffMatchPatch: function diffMatchPatch(props) {\n    validateObject('diffMatchPatch', props);\n    return this._assign('diffMatchPatch', props);\n  },\n  unset: function unset(attrs) {\n    if (!Array.isArray(attrs)) {\n      throw new Error('unset(attrs) takes an array of attributes to unset, non-array given');\n    }\n\n    this.operations = assign({}, this.operations, {\n      unset: attrs\n    });\n    return this;\n  },\n  setIfMissing: function setIfMissing(props) {\n    return this._assign('setIfMissing', props);\n  },\n  replace: function replace(props) {\n    validateObject('replace', props);\n    return this._set('set', {\n      $: props\n    }); // eslint-disable-line id-length\n  },\n  inc: function inc(props) {\n    return this._assign('inc', props);\n  },\n  dec: function dec(props) {\n    return this._assign('dec', props);\n  },\n  insert: function insert(at, selector, items) {\n    var _this$_assign;\n\n    validateInsert(at, selector, items);\n    return this._assign('insert', (_this$_assign = {}, _defineProperty(_this$_assign, at, selector), _defineProperty(_this$_assign, \"items\", items), _this$_assign));\n  },\n  append: function append(selector, items) {\n    return this.insert('after', \"\".concat(selector, \"[-1]\"), items);\n  },\n  prepend: function prepend(selector, items) {\n    return this.insert('before', \"\".concat(selector, \"[0]\"), items);\n  },\n  splice: function splice(selector, start, deleteCount, items) {\n    // Negative indexes doesn't mean the same in Sanity as they do in JS;\n    // -1 means \"actually at the end of the array\", which allows inserting\n    // at the end of the array without knowing its length. We therefore have\n    // to substract negative indexes by one to match JS. If you want Sanity-\n    // behaviour, just use `insert('replace', selector, items)` directly\n    var delAll = typeof deleteCount === 'undefined' || deleteCount === -1;\n    var startIndex = start < 0 ? start - 1 : start;\n    var delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n    var delRange = startIndex < 0 && delCount >= 0 ? '' : delCount;\n    var rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n    return this.insert('replace', rangeSelector, items || []);\n  },\n  ifRevisionId: function ifRevisionId(rev) {\n    this.operations.ifRevisionID = rev;\n    return this;\n  },\n  serialize: function serialize() {\n    return assign(getSelection(this.selection), this.operations);\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.client) {\n      throw new Error('No `client` passed to patch, either provide one or pass the ' + 'patch to a clients `mutate()` method');\n    }\n\n    var returnFirst = typeof this.selection === 'string';\n    var opts = assign({\n      returnFirst: returnFirst,\n      returnDocuments: true\n    }, options);\n    return this.client.mutate({\n      patch: this.serialize()\n    }, opts);\n  },\n  reset: function reset() {\n    this.operations = {};\n    return this;\n  },\n  _set: function _set(op, props) {\n    return this._assign(op, props, false);\n  },\n  _assign: function _assign(op, props) {\n    var merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    validateObject(op, props);\n    this.operations = assign({}, this.operations, _defineProperty({}, op, assign({}, merge && this.operations[op] || {}, props)));\n    return this;\n  }\n});\nmodule.exports = Patch;","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar validators = require('../validators');\n\nvar Patch = require('./patch');\n\nvar defaultMutateOptions = {\n  returnDocuments: false\n};\n\nfunction Transaction() {\n  var operations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var client = arguments.length > 1 ? arguments[1] : undefined;\n  var transactionId = arguments.length > 2 ? arguments[2] : undefined;\n  this.trxId = transactionId;\n  this.operations = operations;\n  this.client = client;\n}\n\nassign(Transaction.prototype, {\n  clone: function clone() {\n    return new Transaction(this.operations.slice(0), this.client, this.trxId);\n  },\n  create: function create(doc) {\n    validators.validateObject('create', doc);\n    return this._add({\n      create: doc\n    });\n  },\n  createIfNotExists: function createIfNotExists(doc) {\n    var op = 'createIfNotExists';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  createOrReplace: function createOrReplace(doc) {\n    var op = 'createOrReplace';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  delete: function _delete(documentId) {\n    validators.validateDocumentId('delete', documentId);\n    return this._add({\n      delete: {\n        id: documentId\n      }\n    });\n  },\n  patch: function patch(documentId, patchOps) {\n    var isBuilder = typeof patchOps === 'function';\n    var isPatch = documentId instanceof Patch; // transaction.patch(client.patch('documentId').inc({visits: 1}))\n\n    if (isPatch) {\n      return this._add({\n        patch: documentId.serialize()\n      });\n    } // patch => patch.inc({visits: 1}).set({foo: 'bar'})\n\n\n    if (isBuilder) {\n      var patch = patchOps(new Patch(documentId, {}, this.client));\n\n      if (!(patch instanceof Patch)) {\n        throw new Error('function passed to `patch()` must return the patch');\n      }\n\n      return this._add({\n        patch: patch.serialize()\n      });\n    }\n\n    return this._add({\n      patch: assign({\n        id: documentId\n      }, patchOps)\n    });\n  },\n  transactionId: function transactionId(id) {\n    if (!id) {\n      return this.trxId;\n    }\n\n    this.trxId = id;\n    return this;\n  },\n  serialize: function serialize() {\n    return this.operations.slice();\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit(options) {\n    if (!this.client) {\n      throw new Error('No `client` passed to transaction, either provide one or pass the ' + 'transaction to a clients `mutate()` method');\n    }\n\n    return this.client.mutate(this.serialize(), assign({\n      transactionId: this.trxId\n    }, defaultMutateOptions, options || {}));\n  },\n  reset: function reset() {\n    this.operations = [];\n    return this;\n  },\n  _add: function _add(mut) {\n    this.operations.push(mut);\n    return this;\n  }\n});\nmodule.exports = Transaction;","\"use strict\";\n\nvar _excluded = [\"tag\"];\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar enc = encodeURIComponent;\n\nmodule.exports = function (_ref) {\n  var query = _ref.query,\n      _ref$params = _ref.params,\n      params = _ref$params === void 0 ? {} : _ref$params,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? {} : _ref$options;\n\n  // We generally want tag at the start of the query string\n  var tag = options.tag,\n      opts = _objectWithoutProperties(options, _excluded);\n\n  var q = \"query=\".concat(enc(query));\n  var base = tag ? \"?tag=\".concat(enc(tag), \"&\").concat(q) : \"?\".concat(q);\n  var qString = Object.keys(params).reduce(function (qs, param) {\n    return \"\".concat(qs, \"&\").concat(enc(\"$\".concat(param)), \"=\").concat(enc(JSON.stringify(params[param])));\n  }, base);\n  return Object.keys(opts).reduce(function (qs, option) {\n    // Only include the option if it is truthy\n    return options[option] ? \"\".concat(qs, \"&\").concat(enc(option), \"=\").concat(enc(options[option])) : qs;\n  }, qString);\n};","var parse = require('url').parse\nvar events = require('events')\nvar https = require('https')\nvar http = require('http')\nvar util = require('util')\n\nvar httpsOptions = [\n  'pfx', 'key', 'passphrase', 'cert', 'ca', 'ciphers',\n  'rejectUnauthorized', 'secureProtocol', 'servername', 'checkServerIdentity'\n]\n\nvar bom = [239, 187, 191]\nvar colon = 58\nvar space = 32\nvar lineFeed = 10\nvar carriageReturn = 13\n// Beyond 256KB we could not observe any gain in performance\nvar maxBufferAheadAllocation = 1024 * 256\n// Headers matching the pattern should be removed when redirecting to different origin\nvar reUnsafeHeader = /^(cookie|authorization)$/i\n\nfunction hasBom (buf) {\n  return bom.every(function (charCode, index) {\n    return buf[index] === charCode\n  })\n}\n\n/**\n * Creates a new EventSource object\n *\n * @param {String} url the URL to which to connect\n * @param {Object} [eventSourceInitDict] extra init params. See README for details.\n * @api public\n **/\nfunction EventSource (url, eventSourceInitDict) {\n  var readyState = EventSource.CONNECTING\n  var headers = eventSourceInitDict && eventSourceInitDict.headers\n  var hasNewOrigin = false\n  Object.defineProperty(this, 'readyState', {\n    get: function () {\n      return readyState\n    }\n  })\n\n  Object.defineProperty(this, 'url', {\n    get: function () {\n      return url\n    }\n  })\n\n  var self = this\n  self.reconnectInterval = 1000\n  self.connectionInProgress = false\n\n  function onConnectionClosed (message) {\n    if (readyState === EventSource.CLOSED) return\n    readyState = EventSource.CONNECTING\n    _emit('error', new Event('error', {message: message}))\n\n    // The url may have been changed by a temporary redirect. If that's the case,\n    // revert it now, and flag that we are no longer pointing to a new origin\n    if (reconnectUrl) {\n      url = reconnectUrl\n      reconnectUrl = null\n      hasNewOrigin = false\n    }\n    setTimeout(function () {\n      if (readyState !== EventSource.CONNECTING || self.connectionInProgress) {\n        return\n      }\n      self.connectionInProgress = true\n      connect()\n    }, self.reconnectInterval)\n  }\n\n  var req\n  var lastEventId = ''\n  if (headers && headers['Last-Event-ID']) {\n    lastEventId = headers['Last-Event-ID']\n    delete headers['Last-Event-ID']\n  }\n\n  var discardTrailingNewline = false\n  var data = ''\n  var eventName = ''\n\n  var reconnectUrl = null\n\n  function connect () {\n    var options = parse(url)\n    var isSecure = options.protocol === 'https:'\n    options.headers = { 'Cache-Control': 'no-cache', 'Accept': 'text/event-stream' }\n    if (lastEventId) options.headers['Last-Event-ID'] = lastEventId\n    if (headers) {\n      var reqHeaders = hasNewOrigin ? removeUnsafeHeaders(headers) : headers\n      for (var i in reqHeaders) {\n        var header = reqHeaders[i]\n        if (header) {\n          options.headers[i] = header\n        }\n      }\n    }\n\n    // Legacy: this should be specified as `eventSourceInitDict.https.rejectUnauthorized`,\n    // but for now exists as a backwards-compatibility layer\n    options.rejectUnauthorized = !(eventSourceInitDict && !eventSourceInitDict.rejectUnauthorized)\n\n    if (eventSourceInitDict && eventSourceInitDict.createConnection !== undefined) {\n      options.createConnection = eventSourceInitDict.createConnection\n    }\n\n    // If specify http proxy, make the request to sent to the proxy server,\n    // and include the original url in path and Host headers\n    var useProxy = eventSourceInitDict && eventSourceInitDict.proxy\n    if (useProxy) {\n      var proxy = parse(eventSourceInitDict.proxy)\n      isSecure = proxy.protocol === 'https:'\n\n      options.protocol = isSecure ? 'https:' : 'http:'\n      options.path = url\n      options.headers.Host = options.host\n      options.hostname = proxy.hostname\n      options.host = proxy.host\n      options.port = proxy.port\n    }\n\n    // If https options are specified, merge them into the request options\n    if (eventSourceInitDict && eventSourceInitDict.https) {\n      for (var optName in eventSourceInitDict.https) {\n        if (httpsOptions.indexOf(optName) === -1) {\n          continue\n        }\n\n        var option = eventSourceInitDict.https[optName]\n        if (option !== undefined) {\n          options[optName] = option\n        }\n      }\n    }\n\n    // Pass this on to the XHR\n    if (eventSourceInitDict && eventSourceInitDict.withCredentials !== undefined) {\n      options.withCredentials = eventSourceInitDict.withCredentials\n    }\n\n    req = (isSecure ? https : http).request(options, function (res) {\n      self.connectionInProgress = false\n      // Handle HTTP errors\n      if (res.statusCode === 500 || res.statusCode === 502 || res.statusCode === 503 || res.statusCode === 504) {\n        _emit('error', new Event('error', {status: res.statusCode, message: res.statusMessage}))\n        onConnectionClosed()\n        return\n      }\n\n      // Handle HTTP redirects\n      if (res.statusCode === 301 || res.statusCode === 302 || res.statusCode === 307) {\n        var location = res.headers.location\n        if (!location) {\n          // Server sent redirect response without Location header.\n          _emit('error', new Event('error', {status: res.statusCode, message: res.statusMessage}))\n          return\n        }\n        var prevOrigin = new URL(url).origin\n        var nextOrigin = new URL(location).origin\n        hasNewOrigin = prevOrigin !== nextOrigin\n        if (res.statusCode === 307) reconnectUrl = url\n        url = location\n        process.nextTick(connect)\n        return\n      }\n\n      if (res.statusCode !== 200) {\n        _emit('error', new Event('error', {status: res.statusCode, message: res.statusMessage}))\n        return self.close()\n      }\n\n      readyState = EventSource.OPEN\n      res.on('close', function () {\n        res.removeAllListeners('close')\n        res.removeAllListeners('end')\n        onConnectionClosed()\n      })\n\n      res.on('end', function () {\n        res.removeAllListeners('close')\n        res.removeAllListeners('end')\n        onConnectionClosed()\n      })\n      _emit('open', new Event('open'))\n\n      // text/event-stream parser adapted from webkit's\n      // Source/WebCore/page/EventSource.cpp\n      var buf\n      var newBuffer\n      var startingPos = 0\n      var startingFieldLength = -1\n      var newBufferSize = 0\n      var bytesUsed = 0\n\n      res.on('data', function (chunk) {\n        if (!buf) {\n          buf = chunk\n          if (hasBom(buf)) {\n            buf = buf.slice(bom.length)\n          }\n          bytesUsed = buf.length\n        } else {\n          if (chunk.length > buf.length - bytesUsed) {\n            newBufferSize = (buf.length * 2) + chunk.length\n            if (newBufferSize > maxBufferAheadAllocation) {\n              newBufferSize = buf.length + chunk.length + maxBufferAheadAllocation\n            }\n            newBuffer = Buffer.alloc(newBufferSize)\n            buf.copy(newBuffer, 0, 0, bytesUsed)\n            buf = newBuffer\n          }\n          chunk.copy(buf, bytesUsed)\n          bytesUsed += chunk.length\n        }\n\n        var pos = 0\n        var length = bytesUsed\n\n        while (pos < length) {\n          if (discardTrailingNewline) {\n            if (buf[pos] === lineFeed) {\n              ++pos\n            }\n            discardTrailingNewline = false\n          }\n\n          var lineLength = -1\n          var fieldLength = startingFieldLength\n          var c\n\n          for (var i = startingPos; lineLength < 0 && i < length; ++i) {\n            c = buf[i]\n            if (c === colon) {\n              if (fieldLength < 0) {\n                fieldLength = i - pos\n              }\n            } else if (c === carriageReturn) {\n              discardTrailingNewline = true\n              lineLength = i - pos\n            } else if (c === lineFeed) {\n              lineLength = i - pos\n            }\n          }\n\n          if (lineLength < 0) {\n            startingPos = length - pos\n            startingFieldLength = fieldLength\n            break\n          } else {\n            startingPos = 0\n            startingFieldLength = -1\n          }\n\n          parseEventStreamLine(buf, pos, fieldLength, lineLength)\n\n          pos += lineLength + 1\n        }\n\n        if (pos === length) {\n          buf = void 0\n          bytesUsed = 0\n        } else if (pos > 0) {\n          buf = buf.slice(pos, bytesUsed)\n          bytesUsed = buf.length\n        }\n      })\n    })\n\n    req.on('error', function (err) {\n      self.connectionInProgress = false\n      onConnectionClosed(err.message)\n    })\n\n    if (req.setNoDelay) req.setNoDelay(true)\n    req.end()\n  }\n\n  connect()\n\n  function _emit () {\n    if (self.listeners(arguments[0]).length > 0) {\n      self.emit.apply(self, arguments)\n    }\n  }\n\n  this._close = function () {\n    if (readyState === EventSource.CLOSED) return\n    readyState = EventSource.CLOSED\n    if (req.abort) req.abort()\n    if (req.xhr && req.xhr.abort) req.xhr.abort()\n  }\n\n  function parseEventStreamLine (buf, pos, fieldLength, lineLength) {\n    if (lineLength === 0) {\n      if (data.length > 0) {\n        var type = eventName || 'message'\n        _emit(type, new MessageEvent(type, {\n          data: data.slice(0, -1), // remove trailing newline\n          lastEventId: lastEventId,\n          origin: new URL(url).origin\n        }))\n        data = ''\n      }\n      eventName = void 0\n    } else if (fieldLength > 0) {\n      var noValue = fieldLength < 0\n      var step = 0\n      var field = buf.slice(pos, pos + (noValue ? lineLength : fieldLength)).toString()\n\n      if (noValue) {\n        step = lineLength\n      } else if (buf[pos + fieldLength + 1] !== space) {\n        step = fieldLength + 1\n      } else {\n        step = fieldLength + 2\n      }\n      pos += step\n\n      var valueLength = lineLength - step\n      var value = buf.slice(pos, pos + valueLength).toString()\n\n      if (field === 'data') {\n        data += value + '\\n'\n      } else if (field === 'event') {\n        eventName = value\n      } else if (field === 'id') {\n        lastEventId = value\n      } else if (field === 'retry') {\n        var retry = parseInt(value, 10)\n        if (!Number.isNaN(retry)) {\n          self.reconnectInterval = retry\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = EventSource\n\nutil.inherits(EventSource, events.EventEmitter)\nEventSource.prototype.constructor = EventSource; // make stacktraces readable\n\n['open', 'error', 'message'].forEach(function (method) {\n  Object.defineProperty(EventSource.prototype, 'on' + method, {\n    /**\n     * Returns the current listener\n     *\n     * @return {Mixed} the set function or undefined\n     * @api private\n     */\n    get: function get () {\n      var listener = this.listeners(method)[0]\n      return listener ? (listener._listener ? listener._listener : listener) : undefined\n    },\n\n    /**\n     * Start listening for events\n     *\n     * @param {Function} listener the listener\n     * @return {Mixed} the set function or undefined\n     * @api private\n     */\n    set: function set (listener) {\n      this.removeAllListeners(method)\n      this.addEventListener(method, listener)\n    }\n  })\n})\n\n/**\n * Ready states\n */\nObject.defineProperty(EventSource, 'CONNECTING', {enumerable: true, value: 0})\nObject.defineProperty(EventSource, 'OPEN', {enumerable: true, value: 1})\nObject.defineProperty(EventSource, 'CLOSED', {enumerable: true, value: 2})\n\nEventSource.prototype.CONNECTING = 0\nEventSource.prototype.OPEN = 1\nEventSource.prototype.CLOSED = 2\n\n/**\n * Closes the connection, if one is made, and sets the readyState attribute to 2 (closed)\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventSource/close\n * @api public\n */\nEventSource.prototype.close = function () {\n  this._close()\n}\n\n/**\n * Emulates the W3C Browser based WebSocket interface using addEventListener.\n *\n * @param {String} type A string representing the event type to listen out for\n * @param {Function} listener callback\n * @see https://developer.mozilla.org/en/DOM/element.addEventListener\n * @see http://dev.w3.org/html5/websockets/#the-websocket-interface\n * @api public\n */\nEventSource.prototype.addEventListener = function addEventListener (type, listener) {\n  if (typeof listener === 'function') {\n    // store a reference so we can return the original function again\n    listener._listener = listener\n    this.on(type, listener)\n  }\n}\n\n/**\n * Emulates the W3C Browser based WebSocket interface using dispatchEvent.\n *\n * @param {Event} event An event to be dispatched\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/dispatchEvent\n * @api public\n */\nEventSource.prototype.dispatchEvent = function dispatchEvent (event) {\n  if (!event.type) {\n    throw new Error('UNSPECIFIED_EVENT_TYPE_ERR')\n  }\n  // if event is instance of an CustomEvent (or has 'details' property),\n  // send the detail object as the payload for the event\n  this.emit(event.type, event.detail)\n}\n\n/**\n * Emulates the W3C Browser based WebSocket interface using removeEventListener.\n *\n * @param {String} type A string representing the event type to remove\n * @param {Function} listener callback\n * @see https://developer.mozilla.org/en/DOM/element.removeEventListener\n * @see http://dev.w3.org/html5/websockets/#the-websocket-interface\n * @api public\n */\nEventSource.prototype.removeEventListener = function removeEventListener (type, listener) {\n  if (typeof listener === 'function') {\n    listener._listener = undefined\n    this.removeListener(type, listener)\n  }\n}\n\n/**\n * W3C Event\n *\n * @see http://www.w3.org/TR/DOM-Level-3-Events/#interface-Event\n * @api private\n */\nfunction Event (type, optionalProperties) {\n  Object.defineProperty(this, 'type', { writable: false, value: type, enumerable: true })\n  if (optionalProperties) {\n    for (var f in optionalProperties) {\n      if (optionalProperties.hasOwnProperty(f)) {\n        Object.defineProperty(this, f, { writable: false, value: optionalProperties[f], enumerable: true })\n      }\n    }\n  }\n}\n\n/**\n * W3C MessageEvent\n *\n * @see http://www.w3.org/TR/webmessaging/#event-definitions\n * @api private\n */\nfunction MessageEvent (type, eventInitDict) {\n  Object.defineProperty(this, 'type', { writable: false, value: type, enumerable: true })\n  for (var f in eventInitDict) {\n    if (eventInitDict.hasOwnProperty(f)) {\n      Object.defineProperty(this, f, { writable: false, value: eventInitDict[f], enumerable: true })\n    }\n  }\n}\n\n/**\n * Returns a new object of headers that does not include any authorization and cookie headers\n *\n * @param {Object} headers An object of headers ({[headerName]: headerValue})\n * @return {Object} a new object of headers\n * @api private\n */\nfunction removeUnsafeHeaders (headers) {\n  var safe = {}\n  for (var key in headers) {\n    if (reUnsafeHeader.test(key)) {\n      continue\n    }\n\n    safe[key] = headers[key]\n  }\n\n  return safe\n}\n","module.exports = require('eventsource')\n","\"use strict\";\n\nmodule.exports = function (obj, props) {\n  return props.reduce(function (selection, prop) {\n    if (typeof obj[prop] === 'undefined') {\n      return selection;\n    }\n\n    selection[prop] = obj[prop];\n    return selection;\n  }, {});\n};","\"use strict\";\n\nmodule.exports = function (obj, defaults) {\n  return Object.keys(defaults).concat(Object.keys(obj)).reduce(function (target, prop) {\n    target[prop] = typeof obj[prop] === 'undefined' ? defaults[prop] : obj[prop];\n    return target;\n  }, {});\n};","\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    Observable = _require.Observable;\n\nvar polyfilledEventSource = require('@sanity/eventsource');\n\nvar pick = require('../util/pick');\n\nvar defaults = require('../util/defaults');\n\nvar encodeQueryString = require('./encodeQueryString'); // Limit is 16K for a _request_, eg including headers. Have to account for an\n// unknown range of headers, but an average EventSource request from Chrome seems\n// to have around 700 bytes of cruft, so let us account for 1.2K to be \"safe\"\n\n\nvar MAX_URL_LENGTH = 16000 - 1200;\nvar EventSource = polyfilledEventSource;\nvar possibleOptions = ['includePreviousRevision', 'includeResult', 'visibility', 'effectFormat', 'tag'];\nvar defaultOptions = {\n  includeResult: true\n};\n\nmodule.exports = function listen(query, params) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _this$clientConfig = this.clientConfig,\n      url = _this$clientConfig.url,\n      token = _this$clientConfig.token,\n      withCredentials = _this$clientConfig.withCredentials,\n      requestTagPrefix = _this$clientConfig.requestTagPrefix;\n  var tag = opts.tag && requestTagPrefix ? [requestTagPrefix, opts.tag].join('.') : opts.tag;\n\n  var options = _objectSpread(_objectSpread({}, defaults(opts, defaultOptions)), {}, {\n    tag: tag\n  });\n\n  var listenOpts = pick(options, possibleOptions);\n  var qs = encodeQueryString({\n    query: query,\n    params: params,\n    options: listenOpts,\n    tag: tag\n  });\n  var uri = \"\".concat(url).concat(this.getDataUrl('listen', qs));\n\n  if (uri.length > MAX_URL_LENGTH) {\n    return new Observable(function (observer) {\n      return observer.error(new Error('Query too large for listener'));\n    });\n  }\n\n  var listenFor = options.events ? options.events : ['mutation'];\n  var shouldEmitReconnect = listenFor.indexOf('reconnect') !== -1;\n  var esOptions = {};\n\n  if (token || withCredentials) {\n    esOptions.withCredentials = true;\n  }\n\n  if (token) {\n    esOptions.headers = {\n      Authorization: \"Bearer \".concat(token)\n    };\n  }\n\n  return new Observable(function (observer) {\n    var es = getEventSource();\n    var reconnectTimer;\n    var stopped = false;\n\n    function onError() {\n      if (stopped) {\n        return;\n      }\n\n      emitReconnect(); // Allow event handlers of `emitReconnect` to cancel/close the reconnect attempt\n\n      if (stopped) {\n        return;\n      } // Unless we've explicitly stopped the ES (in which case `stopped` should be true),\n      // we should never be in a disconnected state. By default, EventSource will reconnect\n      // automatically, in which case it sets readyState to `CONNECTING`, but in some cases\n      // (like when a laptop lid is closed), it closes the connection. In these cases we need\n      // to explicitly reconnect.\n\n\n      if (es.readyState === EventSource.CLOSED) {\n        unsubscribe();\n        clearTimeout(reconnectTimer);\n        reconnectTimer = setTimeout(open, 100);\n      }\n    }\n\n    function onChannelError(err) {\n      observer.error(cooerceError(err));\n    }\n\n    function onMessage(evt) {\n      var event = parseEvent(evt);\n      return event instanceof Error ? observer.error(event) : observer.next(event);\n    }\n\n    function onDisconnect(evt) {\n      stopped = true;\n      unsubscribe();\n      observer.complete();\n    }\n\n    function unsubscribe() {\n      es.removeEventListener('error', onError, false);\n      es.removeEventListener('channelError', onChannelError, false);\n      es.removeEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return es.removeEventListener(type, onMessage, false);\n      });\n      es.close();\n    }\n\n    function emitReconnect() {\n      if (shouldEmitReconnect) {\n        observer.next({\n          type: 'reconnect'\n        });\n      }\n    }\n\n    function getEventSource() {\n      var evs = new EventSource(uri, esOptions);\n      evs.addEventListener('error', onError, false);\n      evs.addEventListener('channelError', onChannelError, false);\n      evs.addEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return evs.addEventListener(type, onMessage, false);\n      });\n      return evs;\n    }\n\n    function open() {\n      es = getEventSource();\n    }\n\n    function stop() {\n      stopped = true;\n      unsubscribe();\n    }\n\n    return stop;\n  });\n};\n\nfunction parseEvent(event) {\n  try {\n    var data = event.data && JSON.parse(event.data) || {};\n    return assign({\n      type: event.type\n    }, data);\n  } catch (err) {\n    return err;\n  }\n}\n\nfunction cooerceError(err) {\n  if (err instanceof Error) {\n    return err;\n  }\n\n  var evt = parseEvent(err);\n  return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\n\nfunction extractErrorMessage(err) {\n  if (!err.error) {\n    return err.message || 'Unknown listener error';\n  }\n\n  if (err.error.description) {\n    return err.error.description;\n  }\n\n  return typeof err.error === 'string' ? err.error : JSON.stringify(err.error, null, 2);\n}","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    map = _require.map,\n    filter = _require.filter;\n\nvar validators = require('../validators');\n\nvar getSelection = require('../util/getSelection');\n\nvar encodeQueryString = require('./encodeQueryString');\n\nvar Transaction = require('./transaction');\n\nvar Patch = require('./patch');\n\nvar listen = require('./listen');\n\nvar excludeFalsey = function excludeFalsey(param, defValue) {\n  var value = typeof param === 'undefined' ? defValue : param;\n  return param === false ? undefined : value;\n};\n\nvar getMutationQuery = function getMutationQuery() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    dryRun: options.dryRun,\n    returnIds: true,\n    returnDocuments: excludeFalsey(options.returnDocuments, true),\n    visibility: options.visibility || 'sync',\n    autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n    skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n  };\n};\n\nvar isResponse = function isResponse(event) {\n  return event.type === 'response';\n};\n\nvar getBody = function getBody(event) {\n  return event.body;\n};\n\nvar indexBy = function indexBy(docs, attr) {\n  return docs.reduce(function (indexed, doc) {\n    indexed[attr(doc)] = doc;\n    return indexed;\n  }, Object.create(null));\n};\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nvar getQuerySizeLimit = 11264;\nmodule.exports = {\n  listen: listen,\n  getDataUrl: function getDataUrl(operation, path) {\n    var config = this.clientConfig;\n    var catalog = validators.hasDataset(config);\n    var baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n    var uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n    return \"/data\".concat(uri).replace(/\\/($|\\?)/, '$1');\n  },\n  fetch: function fetch(query, params) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var mapResponse = options.filterResponse === false ? function (res) {\n      return res;\n    } : function (res) {\n      return res.result;\n    };\n\n    var observable = this._dataRequest('query', {\n      query: query,\n      params: params\n    }, options).pipe(map(mapResponse));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocument: function getDocument(id) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = {\n      uri: this.getDataUrl('doc', id),\n      json: true,\n      tag: opts.tag\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      return event.body.documents && event.body.documents[0];\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocuments: function getDocuments(ids) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = {\n      uri: this.getDataUrl('doc', ids.join(',')),\n      json: true,\n      tag: opts.tag\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      var indexed = indexBy(event.body.documents || [], function (doc) {\n        return doc._id;\n      });\n      return ids.map(function (id) {\n        return indexed[id] || null;\n      });\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  create: function create(doc, options) {\n    return this._create(doc, 'create', options);\n  },\n  createIfNotExists: function createIfNotExists(doc, options) {\n    validators.requireDocumentId('createIfNotExists', doc);\n    return this._create(doc, 'createIfNotExists', options);\n  },\n  createOrReplace: function createOrReplace(doc, options) {\n    validators.requireDocumentId('createOrReplace', doc);\n    return this._create(doc, 'createOrReplace', options);\n  },\n  patch: function patch(selector, operations) {\n    return new Patch(selector, operations, this);\n  },\n  delete: function _delete(selection, options) {\n    return this.dataRequest('mutate', {\n      mutations: [{\n        delete: getSelection(selection)\n      }]\n    }, options);\n  },\n  mutate: function mutate(mutations, options) {\n    var mut = mutations instanceof Patch || mutations instanceof Transaction ? mutations.serialize() : mutations;\n    var muts = Array.isArray(mut) ? mut : [mut];\n    var transactionId = options && options.transactionId;\n    return this.dataRequest('mutate', {\n      mutations: muts,\n      transactionId: transactionId\n    }, options);\n  },\n  transaction: function transaction(operations) {\n    return new Transaction(operations, this);\n  },\n  dataRequest: function dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var request = this._dataRequest(endpoint, body, options);\n\n    return this.isPromiseAPI() ? toPromise(request) : request;\n  },\n  _dataRequest: function _dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var isMutation = endpoint === 'mutate';\n    var isQuery = endpoint === 'query'; // Check if the query string is within a configured threshold,\n    // in which case we can use GET. Otherwise, use POST.\n\n    var strQuery = !isMutation && encodeQueryString(body);\n    var useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n    var stringQuery = useGet ? strQuery : '';\n    var returnFirst = options.returnFirst;\n    var timeout = options.timeout,\n        token = options.token,\n        tag = options.tag,\n        headers = options.headers;\n    var uri = this.getDataUrl(endpoint, stringQuery);\n    var reqOptions = {\n      method: useGet ? 'GET' : 'POST',\n      uri: uri,\n      json: true,\n      body: useGet ? undefined : body,\n      query: isMutation && getMutationQuery(options),\n      timeout: timeout,\n      headers: headers,\n      token: token,\n      tag: tag,\n      canUseCdn: isQuery\n    };\n    return this._requestObservable(reqOptions).pipe(filter(isResponse), map(getBody), map(function (res) {\n      if (!isMutation) {\n        return res;\n      } // Should we return documents?\n\n\n      var results = res.results || [];\n\n      if (options.returnDocuments) {\n        return returnFirst ? results[0] && results[0].document : results.map(function (mut) {\n          return mut.document;\n        });\n      } // Return a reduced subset\n\n\n      var key = returnFirst ? 'documentId' : 'documentIds';\n      var ids = returnFirst ? results[0] && results[0].id : results.map(function (mut) {\n        return mut.id;\n      });\n      return _defineProperty({\n        transactionId: res.transactionId,\n        results: results\n      }, key, ids);\n    }));\n  },\n  _create: function _create(doc, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var mutation = _defineProperty({}, op, doc);\n\n    var opts = assign({\n      returnFirst: true,\n      returnDocuments: true\n    }, options);\n    return this.dataRequest('mutate', {\n      mutations: [mutation]\n    }, opts);\n  }\n};","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar validate = require('../validators');\n\nfunction DatasetsClient(client) {\n  this.request = client.request.bind(client);\n}\n\nassign(DatasetsClient.prototype, {\n  create: function create(name, options) {\n    return this._modify('PUT', name, options);\n  },\n  edit: function edit(name, options) {\n    return this._modify('PATCH', name, options);\n  },\n  delete: function _delete(name) {\n    return this._modify('DELETE', name);\n  },\n  list: function list() {\n    return this.request({\n      uri: '/datasets'\n    });\n  },\n  _modify: function _modify(method, name, body) {\n    validate.dataset(name);\n    return this.request({\n      method: method,\n      uri: \"/datasets/\".concat(name),\n      body: body\n    });\n  }\n});\nmodule.exports = DatasetsClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction ProjectsClient(client) {\n  this.client = client;\n}\n\nassign(ProjectsClient.prototype, {\n  list: function list() {\n    return this.client.request({\n      uri: '/projects'\n    });\n  },\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/projects/\".concat(id)\n    });\n  }\n});\nmodule.exports = ProjectsClient;","\"use strict\";\n\nmodule.exports = function (params) {\n  var qs = [];\n\n  for (var key in params) {\n    if (params.hasOwnProperty(key)) {\n      qs.push(\"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(params[key])));\n    }\n  }\n\n  return qs.length > 0 ? \"?\".concat(qs.join('&')) : '';\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    map = _require.map,\n    filter = _require.filter;\n\nvar queryString = require('../http/queryString');\n\nvar validators = require('../validators');\n\nfunction AssetsClient(client) {\n  this.client = client;\n}\n\nfunction optionsFromFile(opts, file) {\n  if (typeof window === 'undefined' || !(file instanceof window.File)) {\n    return opts;\n  }\n\n  return assign({\n    filename: opts.preserveFilename === false ? undefined : file.name,\n    contentType: file.type\n  }, opts);\n}\n\nassign(AssetsClient.prototype, {\n  /**\n   * Upload an asset\n   *\n   * @param  {String} assetType `image` or `file`\n   * @param  {File|Blob|Buffer|ReadableStream} body File to upload\n   * @param  {Object}  opts Options for the upload\n   * @param  {Boolean} opts.preserveFilename Whether or not to preserve the original filename (default: true)\n   * @param  {String}  opts.filename Filename for this file (optional)\n   * @param  {Number}  opts.timeout  Milliseconds to wait before timing the request out (default: 0)\n   * @param  {String}  opts.contentType Mime type of the file\n   * @param  {Array}   opts.extract Array of metadata parts to extract from image.\n   *                                 Possible values: `location`, `exif`, `image`, `palette`\n   * @param  {String}  opts.label Label\n   * @param  {String}  opts.title Title\n   * @param  {String}  opts.description Description\n   * @param  {String}  opts.creditLine The credit to person(s) and/or organization(s) required by the supplier of the image to be used when published\n   * @param  {Object}  opts.source Source data (when the asset is from an external service)\n   * @param  {String}  opts.source.id The (u)id of the asset within the source, i.e. 'i-f323r1E'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.name The name of the source, i.e. 'unsplash'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.url A url to where to find the asset, or get more info about it in the source\n   *                                  Optional\n   * @return {Promise} Resolves with the created asset document\n   */\n  upload: function upload(assetType, body) {\n    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    validators.validateAssetType(assetType); // If an empty array is given, explicitly set `none` to override API defaults\n\n    var meta = opts.extract || undefined;\n\n    if (meta && !meta.length) {\n      meta = ['none'];\n    }\n\n    var dataset = validators.hasDataset(this.client.clientConfig);\n    var assetEndpoint = assetType === 'image' ? 'images' : 'files';\n    var options = optionsFromFile(opts, body);\n    var tag = options.tag,\n        label = options.label,\n        title = options.title,\n        description = options.description,\n        creditLine = options.creditLine,\n        filename = options.filename,\n        source = options.source;\n    var query = {\n      label: label,\n      title: title,\n      description: description,\n      filename: filename,\n      meta: meta,\n      creditLine: creditLine\n    };\n\n    if (source) {\n      query.sourceId = source.id;\n      query.sourceName = source.name;\n      query.sourceUrl = source.url;\n    }\n\n    var observable = this.client._requestObservable({\n      tag: tag,\n      method: 'POST',\n      timeout: options.timeout || 0,\n      uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n      headers: options.contentType ? {\n        'Content-Type': options.contentType\n      } : {},\n      query: query,\n      body: body\n    });\n\n    return this.client.isPromiseAPI() ? observable.pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body.document;\n    })).toPromise() : observable;\n  },\n  delete: function _delete(type, id) {\n    // eslint-disable-next-line no-console\n    console.warn('client.assets.delete() is deprecated, please use client.delete(<document-id>)');\n    var docId = id || '';\n\n    if (!/^(image|file)-/.test(docId)) {\n      docId = \"\".concat(type, \"-\").concat(docId);\n    } else if (type._id) {\n      // We could be passing an entire asset document instead of an ID\n      docId = type._id;\n    }\n\n    validators.hasDataset(this.client.clientConfig);\n    return this.client.delete(docId);\n  },\n  getImageUrl: function getImageUrl(ref, query) {\n    var id = ref._ref || ref;\n\n    if (typeof id !== 'string') {\n      throw new Error('getImageUrl() needs either an object with a _ref, or a string with an asset document ID');\n    }\n\n    if (!/^image-[A-Za-z0-9_]+-\\d+x\\d+-[a-z]{1,5}$/.test(id)) {\n      throw new Error(\"Unsupported asset ID \\\"\".concat(id, \"\\\". URL generation only works for auto-generated IDs.\"));\n    }\n\n    var _id$split = id.split('-'),\n        _id$split2 = _slicedToArray(_id$split, 4),\n        assetId = _id$split2[1],\n        size = _id$split2[2],\n        format = _id$split2[3];\n\n    validators.hasDataset(this.client.clientConfig);\n    var _this$client$clientCo = this.client.clientConfig,\n        projectId = _this$client$clientCo.projectId,\n        dataset = _this$client$clientCo.dataset;\n    var qs = query ? queryString(query) : '';\n    return \"https://cdn.sanity.io/images/\".concat(projectId, \"/\").concat(dataset, \"/\").concat(assetId, \"-\").concat(size, \".\").concat(format).concat(qs);\n  }\n});\nmodule.exports = AssetsClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction UsersClient(client) {\n  this.client = client;\n}\n\nassign(UsersClient.prototype, {\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/users/\".concat(id)\n    });\n  }\n});\nmodule.exports = UsersClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction AuthClient(client) {\n  this.client = client;\n}\n\nassign(AuthClient.prototype, {\n  getLoginProviders: function getLoginProviders() {\n    return this.client.request({\n      uri: '/auth/providers'\n    });\n  },\n  logout: function logout() {\n    return this.client.request({\n      uri: '/auth/logout',\n      method: 'POST'\n    });\n  }\n});\nmodule.exports = AuthClient;","// ISC @ Julien Fontanet\n\n\"use strict\";\n\n// ===================================================================\n\nvar construct = typeof Reflect !== \"undefined\" ? Reflect.construct : undefined;\nvar defineProperty = Object.defineProperty;\n\n// -------------------------------------------------------------------\n\nvar captureStackTrace = Error.captureStackTrace;\nif (captureStackTrace === undefined) {\n  captureStackTrace = function captureStackTrace(error) {\n    var container = new Error();\n\n    defineProperty(error, \"stack\", {\n      configurable: true,\n      get: function getStack() {\n        var stack = container.stack;\n\n        // Replace property with value for faster future accesses.\n        defineProperty(this, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true,\n        });\n\n        return stack;\n      },\n      set: function setStack(stack) {\n        defineProperty(error, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true,\n        });\n      },\n    });\n  };\n}\n\n// -------------------------------------------------------------------\n\nfunction BaseError(message) {\n  if (message !== undefined) {\n    defineProperty(this, \"message\", {\n      configurable: true,\n      value: message,\n      writable: true,\n    });\n  }\n\n  var cname = this.constructor.name;\n  if (cname !== undefined && cname !== this.name) {\n    defineProperty(this, \"name\", {\n      configurable: true,\n      value: cname,\n      writable: true,\n    });\n  }\n\n  captureStackTrace(this, this.constructor);\n}\n\nBaseError.prototype = Object.create(Error.prototype, {\n  // See: https://github.com/JsCommunity/make-error/issues/4\n  constructor: {\n    configurable: true,\n    value: BaseError,\n    writable: true,\n  },\n});\n\n// -------------------------------------------------------------------\n\n// Sets the name of a function if possible (depends of the JS engine).\nvar setFunctionName = (function() {\n  function setFunctionName(fn, name) {\n    return defineProperty(fn, \"name\", {\n      configurable: true,\n      value: name,\n    });\n  }\n  try {\n    var f = function() {};\n    setFunctionName(f, \"foo\");\n    if (f.name === \"foo\") {\n      return setFunctionName;\n    }\n  } catch (_) {}\n})();\n\n// -------------------------------------------------------------------\n\nfunction makeError(constructor, super_) {\n  if (super_ == null || super_ === Error) {\n    super_ = BaseError;\n  } else if (typeof super_ !== \"function\") {\n    throw new TypeError(\"super_ should be a function\");\n  }\n\n  var name;\n  if (typeof constructor === \"string\") {\n    name = constructor;\n    constructor =\n      construct !== undefined\n        ? function() {\n            return construct(super_, arguments, this.constructor);\n          }\n        : function() {\n            super_.apply(this, arguments);\n          };\n\n    // If the name can be set, do it once and for all.\n    if (setFunctionName !== undefined) {\n      setFunctionName(constructor, name);\n      name = undefined;\n    }\n  } else if (typeof constructor !== \"function\") {\n    throw new TypeError(\"constructor should be either a string or a function\");\n  }\n\n  // Also register the super constructor also as `constructor.super_` just\n  // like Node's `util.inherits()`.\n  //\n  // eslint-disable-next-line dot-notation\n  constructor.super_ = constructor[\"super\"] = super_;\n\n  var properties = {\n    constructor: {\n      configurable: true,\n      value: constructor,\n      writable: true,\n    },\n  };\n\n  // If the name could not be set on the constructor, set it on the\n  // prototype.\n  if (name !== undefined) {\n    properties.name = {\n      configurable: true,\n      value: name,\n      writable: true,\n    };\n  }\n  constructor.prototype = Object.create(super_.prototype, properties);\n\n  return constructor;\n}\nexports = module.exports = makeError;\nexports.BaseError = BaseError;\n","\"use strict\";\n\nvar makeError = require('make-error');\n\nvar assign = require('object-assign');\n\nfunction ClientError(res) {\n  var props = extractErrorProps(res);\n  ClientError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction ServerError(res) {\n  var props = extractErrorProps(res);\n  ServerError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction extractErrorProps(res) {\n  var body = res.body;\n  var props = {\n    response: res,\n    statusCode: res.statusCode,\n    responseBody: stringifyBody(body, res)\n  }; // API/Boom style errors ({statusCode, error, message})\n\n  if (body.error && body.message) {\n    props.message = \"\".concat(body.error, \" - \").concat(body.message);\n    return props;\n  } // Query/database errors ({error: {description, other, arb, props}})\n\n\n  if (body.error && body.error.description) {\n    props.message = body.error.description;\n    props.details = body.error;\n    return props;\n  } // Other, more arbitrary errors\n\n\n  props.message = body.error || body.message || httpErrorMessage(res);\n  return props;\n}\n\nfunction httpErrorMessage(res) {\n  var statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : '';\n  return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\n\nfunction stringifyBody(body, res) {\n  var contentType = (res.headers['content-type'] || '').toLowerCase();\n  var isJson = contentType.indexOf('application/json') !== -1;\n  return isJson ? JSON.stringify(body, null, 2) : body;\n}\n\nmakeError(ClientError);\nmakeError(ServerError);\nexports.ClientError = ClientError;\nexports.ServerError = ServerError;","\"use strict\";\n\nvar retry = require('get-it/lib-node/middleware/retry');\n\nvar debug = require('get-it/lib-node/middleware/debug');\n\nvar headers = require('get-it/lib-node/middleware/headers');\n\nvar pkg = require('../../package.json');\n\nvar middleware = [debug({\n  verbose: true,\n  namespace: 'sanity:client'\n}), headers({\n  'User-Agent': \"\".concat(pkg.name, \" \").concat(pkg.version)\n}), retry({\n  maxRetries: 3\n})];\nmodule.exports = middleware;","\"use strict\";\n\n/* eslint-disable no-empty-function, no-process-env */\nvar getIt = require('get-it');\n\nvar assign = require('object-assign');\n\nvar observable = require('get-it/lib/middleware/observable');\n\nvar jsonRequest = require('get-it/lib/middleware/jsonRequest');\n\nvar jsonResponse = require('get-it/lib/middleware/jsonResponse');\n\nvar progress = require('get-it/lib/middleware/progress');\n\nvar _require = require('../util/observable'),\n    Observable = _require.Observable;\n\nvar _require2 = require('./errors'),\n    ClientError = _require2.ClientError,\n    ServerError = _require2.ServerError;\n\nvar httpError = {\n  onResponse: function onResponse(res) {\n    if (res.statusCode >= 500) {\n      throw new ServerError(res);\n    } else if (res.statusCode >= 400) {\n      throw new ClientError(res);\n    }\n\n    return res;\n  }\n};\nvar printWarnings = {\n  onResponse: function onResponse(res) {\n    var warn = res.headers['x-sanity-warning'];\n    var warnings = Array.isArray(warn) ? warn : [warn];\n    warnings.filter(Boolean).forEach(function (msg) {\n      return console.warn(msg);\n    }); // eslint-disable-line no-console\n\n    return res;\n  }\n}; // Environment-specific middleware.\n\nvar envSpecific = require('./nodeMiddleware');\n\nvar middleware = envSpecific.concat([printWarnings, jsonRequest(), jsonResponse(), progress(), httpError, observable({\n  implementation: Observable\n})]);\nvar request = getIt(middleware);\n\nfunction httpRequest(options) {\n  var requester = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : request;\n  return requester(assign({\n    maxRedirects: 0\n  }, options));\n}\n\nhttpRequest.defaultRequester = request;\nhttpRequest.ClientError = ClientError;\nhttpRequest.ServerError = ServerError;\nmodule.exports = httpRequest;","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar projectHeader = 'X-Sanity-Project-ID';\n\nmodule.exports = function (config) {\n  var overrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var headers = {};\n  var token = overrides.token || config.token;\n\n  if (token) {\n    headers.Authorization = \"Bearer \".concat(token);\n  }\n\n  if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n    headers[projectHeader] = config.projectId;\n  }\n\n  var withCredentials = Boolean(typeof overrides.withCredentials === 'undefined' ? config.token || config.withCredentials : overrides.withCredentials);\n  var timeout = typeof overrides.timeout === 'undefined' ? config.timeout : overrides.timeout;\n  return assign({}, overrides, {\n    headers: assign({}, headers, overrides.headers || {}),\n    timeout: typeof timeout === 'undefined' ? 5 * 60 * 1000 : timeout,\n    proxy: overrides.proxy || config.proxy,\n    json: true,\n    withCredentials: withCredentials\n  });\n};","\"use strict\";\n\nvar BASE_URL = 'https://docs.sanity.io/help/';\n\nmodule.exports = function generateHelpUrl(slug) {\n  return BASE_URL + slug;\n};","\"use strict\";\n\nmodule.exports = function (fn) {\n  var didCall = false;\n  var returnValue;\n  return function () {\n    if (didCall) {\n      return returnValue;\n    }\n\n    returnValue = fn.apply(void 0, arguments);\n    didCall = true;\n    return returnValue;\n  };\n};","\"use strict\";\n\nvar generateHelpUrl = require('./generateHelpUrl');\n\nvar once = require('./util/once');\n\nvar createWarningPrinter = function createWarningPrinter(message) {\n  return (// eslint-disable-next-line no-console\n    once(function () {\n      var _console;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_console = console).warn.apply(_console, [message.join(' ')].concat(args));\n    })\n  );\n};\n\nexports.printCdnWarning = createWarningPrinter(['You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and', \"cheaper. Think about it! For more info, see \".concat(generateHelpUrl('js-client-cdn-configuration'), \".\"), 'To hide this warning, please set the `useCdn` option to either `true` or `false` when creating', 'the client.']);\nexports.printBrowserTokenWarning = createWarningPrinter(['You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.', \"See \".concat(generateHelpUrl('js-client-browser-token'), \" for more information and how to hide this warning.\")]);\nexports.printNoApiVersionSpecifiedWarning = createWarningPrinter(['Using the Sanity client without specifying an API version is deprecated.', \"See \".concat(generateHelpUrl('js-client-api-version'))]);","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar generateHelpUrl = require('./generateHelpUrl');\n\nvar validate = require('./validators');\n\nvar warnings = require('./warnings');\n\nvar defaultCdnHost = 'apicdn.sanity.io';\nvar defaultConfig = {\n  apiHost: 'https://api.sanity.io',\n  apiVersion: '1',\n  useProjectHostname: true,\n  isPromiseAPI: true\n};\nvar LOCALHOSTS = ['localhost', '127.0.0.1', '0.0.0.0'];\n\nvar isLocal = function isLocal(host) {\n  return LOCALHOSTS.indexOf(host) !== -1;\n};\n\nexports.defaultConfig = defaultConfig; // eslint-disable-next-line complexity\n\nexports.initConfig = function (config, prevConfig) {\n  var specifiedConfig = assign({}, prevConfig, config);\n\n  if (!specifiedConfig.apiVersion) {\n    warnings.printNoApiVersionSpecifiedWarning();\n  }\n\n  var newConfig = assign({}, defaultConfig, specifiedConfig);\n  var projectBased = newConfig.useProjectHostname;\n\n  if (typeof Promise === 'undefined') {\n    var helpUrl = generateHelpUrl('js-client-promise-polyfill');\n    throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n  }\n\n  if (projectBased && !newConfig.projectId) {\n    throw new Error('Configuration must contain `projectId`');\n  }\n\n  var isBrowser = typeof window !== 'undefined' && window.location && window.location.hostname;\n  var isLocalhost = isBrowser && isLocal(window.location.hostname);\n\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    warnings.printBrowserTokenWarning();\n  } else if (typeof newConfig.useCdn === 'undefined') {\n    warnings.printCdnWarning();\n  }\n\n  if (projectBased) {\n    validate.projectId(newConfig.projectId);\n  }\n\n  if (newConfig.dataset) {\n    validate.dataset(newConfig.dataset);\n  }\n\n  if ('requestTagPrefix' in newConfig) {\n    // Allow setting and unsetting request tag prefix\n    newConfig.requestTagPrefix = newConfig.requestTagPrefix ? validate.requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, '') : undefined;\n  }\n\n  newConfig.apiVersion = \"\".concat(newConfig.apiVersion).replace(/^v/, '');\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n  newConfig.useCdn = Boolean(newConfig.useCdn) && !newConfig.withCredentials;\n  exports.validateApiVersion(newConfig.apiVersion);\n  var hostParts = newConfig.apiHost.split('://', 2);\n  var protocol = hostParts[0];\n  var host = hostParts[1];\n  var cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n\n  if (newConfig.useProjectHostname) {\n    newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v\").concat(newConfig.apiVersion);\n  } else {\n    newConfig.url = \"\".concat(newConfig.apiHost, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = newConfig.url;\n  }\n\n  return newConfig;\n};\n\nexports.validateApiVersion = function validateApiVersion(apiVersion) {\n  if (apiVersion === '1' || apiVersion === 'X') {\n    return;\n  }\n\n  var apiDate = new Date(apiVersion);\n  var apiVersionValid = /^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0;\n\n  if (!apiVersionValid) {\n    throw new Error('Invalid API version string, expected `1` or date in format `YYYY-MM-DD`');\n  }\n};","\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('./util/observable'),\n    Observable = _require.Observable,\n    map = _require.map,\n    filter = _require.filter;\n\nvar Patch = require('./data/patch');\n\nvar Transaction = require('./data/transaction');\n\nvar dataMethods = require('./data/dataMethods');\n\nvar DatasetsClient = require('./datasets/datasetsClient');\n\nvar ProjectsClient = require('./projects/projectsClient');\n\nvar AssetsClient = require('./assets/assetsClient');\n\nvar UsersClient = require('./users/usersClient');\n\nvar AuthClient = require('./auth/authClient');\n\nvar httpRequest = require('./http/request');\n\nvar getRequestOptions = require('./http/requestOptions');\n\nvar _require2 = require('./config'),\n    defaultConfig = _require2.defaultConfig,\n    initConfig = _require2.initConfig;\n\nvar validate = require('./validators');\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nfunction SanityClient() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n\n  if (!(this instanceof SanityClient)) {\n    return new SanityClient(config);\n  }\n\n  this.config(config);\n  this.assets = new AssetsClient(this);\n  this.datasets = new DatasetsClient(this);\n  this.projects = new ProjectsClient(this);\n  this.users = new UsersClient(this);\n  this.auth = new AuthClient(this);\n\n  if (this.clientConfig.isPromiseAPI) {\n    var observableConfig = assign({}, this.clientConfig, {\n      isPromiseAPI: false\n    });\n    this.observable = new SanityClient(observableConfig);\n  }\n}\n\nassign(SanityClient.prototype, dataMethods);\nassign(SanityClient.prototype, {\n  clone: function clone() {\n    return new SanityClient(this.config());\n  },\n  config: function config(newConfig) {\n    if (typeof newConfig === 'undefined') {\n      return assign({}, this.clientConfig);\n    }\n\n    if (this.clientConfig && this.clientConfig.allowReconfigure === false) {\n      throw new Error('Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client');\n    }\n\n    if (this.observable) {\n      var observableConfig = assign({}, newConfig, {\n        isPromiseAPI: false\n      });\n      this.observable.config(observableConfig);\n    }\n\n    this.clientConfig = initConfig(newConfig, this.clientConfig || {});\n    return this;\n  },\n  withConfig: function withConfig(newConfig) {\n    return new SanityClient(_objectSpread(_objectSpread({}, this.config()), newConfig));\n  },\n  getUrl: function getUrl(uri) {\n    var useCdn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var base = useCdn ? this.clientConfig.cdnUrl : this.clientConfig.url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, ''));\n  },\n  isPromiseAPI: function isPromiseAPI() {\n    return this.clientConfig.isPromiseAPI;\n  },\n  _requestObservable: function _requestObservable(options) {\n    var _this = this;\n\n    var uri = options.url || options.uri; // If the `canUseCdn`-option is not set we detect it automatically based on the method + URL.\n    // Only the /data endpoint is currently available through API-CDN.\n\n    var canUseCdn = typeof options.canUseCdn === 'undefined' ? ['GET', 'HEAD'].indexOf(options.method || 'GET') >= 0 && uri.indexOf('/data/') === 0 : options.canUseCdn;\n    var useCdn = this.clientConfig.useCdn && canUseCdn;\n    var tag = options.tag && this.clientConfig.requestTagPrefix ? [this.clientConfig.requestTagPrefix, options.tag].join('.') : options.tag || this.clientConfig.requestTagPrefix;\n\n    if (tag) {\n      options.query = _objectSpread({\n        tag: validate.requestTag(tag)\n      }, options.query);\n    }\n\n    var reqOptions = getRequestOptions(this.clientConfig, assign({}, options, {\n      url: this.getUrl(uri, useCdn)\n    }));\n    return new Observable(function (subscriber) {\n      return httpRequest(reqOptions, _this.clientConfig.requester).subscribe(subscriber);\n    });\n  },\n  request: function request(options) {\n    var observable = this._requestObservable(options).pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body;\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  }\n});\nSanityClient.Patch = Patch;\nSanityClient.Transaction = Transaction;\nSanityClient.ClientError = httpRequest.ClientError;\nSanityClient.ServerError = httpRequest.ServerError;\nSanityClient.requester = httpRequest.defaultRequester;\nmodule.exports = SanityClient;","// Prevent webpack from bundling in webpack context,\n// use regular node require for unbundled context\n\n/* eslint-disable camelcase, no-undef */\ndeclare const __webpack_require__: boolean\ndeclare const __non_webpack_require__: typeof require\n\nconst requireFunc: typeof require =\n  typeof __webpack_require__ === 'function' ? __non_webpack_require__ : require\n/* eslint-enable camelcase, no-undef */\n\nexport function dynamicRequire<T = any>(request: string): T {\n  const mod = requireFunc(request)\n  return mod.__esModule && mod.default ? mod.default : mod\n}\n\ndynamicRequire.resolve = requireFunc.resolve\n","/* eslint-disable no-sync */\n\n/**\n * Reads the Sanity CLI config from one of the following files (in preferred order):\n *   - sanity.cli.js\n *   - sanity.cli.ts\n *\n * Note: There are two ways of using this:\n * a) `getCliConfig(cwd)`\n * b) `getCliConfig(cwd, {forked: true})`\n *\n * Approach a is generally a bit faster as it avoids the forking startup time, while\n * approach b could be considered \"safer\" since any side-effects of running the config\n * file will not bleed into the current CLI process directly.\n */\nimport path from 'path'\nimport fs from 'fs'\nimport {Worker} from 'worker_threads'\nimport {register} from 'esbuild-register/dist/node'\nimport type {CliConfig, SanityJson} from '../types'\nimport {dynamicRequire} from './dynamicRequire'\nimport {getCliWorkerPath} from './cliWorker'\n\nexport type CliMajorVersion = 2 | 3\n\nexport type CliConfigResult =\n  | {config: SanityJson; path: string; version: 2}\n  | {config: CliConfig; path: string; version: 3}\n  | {config: null; path: string; version: CliMajorVersion}\n\nexport async function getCliConfig(\n  cwd: string,\n  {forked}: {forked?: boolean} = {}\n): Promise<CliConfigResult | null> {\n  if (forked) {\n    try {\n      return await getCliConfigForked(cwd)\n    } catch (err) {\n      // Intentional noop - try unforked variant\n    }\n  }\n\n  const {unregister} = register()\n\n  try {\n    const v3Config = getSanityCliConfig(cwd)\n    if (v3Config) {\n      return v3Config\n    }\n\n    return getSanityJsonConfig(cwd)\n  } catch (err) {\n    throw err\n  } finally {\n    unregister()\n  }\n}\n\nexport function getCliConfigSync(cwd: string): CliConfigResult | null {\n  const v3Config = getSanityCliConfig(cwd)\n  return v3Config ? v3Config : getSanityJsonConfig(cwd)\n}\n\nasync function getCliConfigForked(cwd: string): Promise<CliConfigResult | null> {\n  const workerPath = await getCliWorkerPath('util/getCliConfig.worker')\n  return new Promise((resolve, reject) => {\n    const worker = new Worker(workerPath, {workerData: cwd})\n    worker.on('message', (message) => {\n      if (message.type === 'config') {\n        resolve(message.config)\n      } else {\n        const error = new Error(message.error)\n        ;(error as any).type = message.errorType\n        reject(new Error(message.error))\n      }\n    })\n    worker.on('error', reject)\n    worker.on('exit', (code) => {\n      if (code !== 0) {\n        reject(new Error(`Worker stopped with exit code ${code}`))\n      }\n    })\n  })\n}\n\nfunction getSanityJsonConfig(cwd: string): CliConfigResult | null {\n  const configPath = path.join(cwd, 'sanity.json')\n\n  if (!fs.existsSync(configPath)) {\n    return null\n  }\n\n  return {\n    config: loadJsonConfig(configPath),\n    path: configPath,\n    version: 2,\n  }\n}\n\nfunction getSanityCliConfig(cwd: string): CliConfigResult | null {\n  const jsConfigPath = path.join(cwd, 'sanity.cli.js')\n  const tsConfigPath = path.join(cwd, 'sanity.cli.ts')\n\n  const [js, ts] = [fs.existsSync(jsConfigPath), fs.existsSync(tsConfigPath)]\n\n  if (!js && !ts) {\n    return null\n  }\n\n  if (!js && ts) {\n    return {\n      config: importConfig(tsConfigPath),\n      path: tsConfigPath,\n      version: 3,\n    }\n  }\n\n  if (js && ts) {\n    warn('Found both `sanity.cli.js` and `sanity.cli.ts` - using sanity.cli.js')\n  }\n\n  return {\n    config: importConfig(jsConfigPath),\n    path: jsConfigPath,\n    version: 3,\n  }\n}\n\nfunction loadJsonConfig(filePath: string): SanityJson | null {\n  try {\n    const content = fs.readFileSync(filePath, 'utf8')\n    return JSON.parse(content)\n  } catch (err) {\n    console.error(`Error reading \"${filePath}\": ${err.message}`)\n    return null\n  }\n}\n\nfunction importConfig(filePath: string): CliConfig | null {\n  try {\n    const config = dynamicRequire<CliConfig | {default: CliConfig} | null>(filePath)\n    if (config === null || typeof config !== 'object') {\n      throw new Error('Module export is not a configuration object')\n    }\n\n    return 'default' in config ? config.default : config\n  } catch (err) {\n    // If attempting to import `createCliConfig` or similar from `sanity/cli`,\n    // accept the fact that it might not be installed. Instead, let the CLI\n    // give a warning about the `sanity` module not being installed\n    if (err.code === 'MODULE_NOT_FOUND' && err.message.includes('sanity/cli')) {\n      return null\n    }\n\n    console.error(`Error reading \"${filePath}\": ${err.message}`)\n    return null\n  }\n}\n\nfunction warn(warning: string) {\n  if (typeof process.send === 'function') {\n    process.send({type: 'warning', warning})\n  } else {\n    console.warn(warning)\n  }\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\"use strict\";\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","\"use strict\";\n\n/**\n * Module dependencies.\n */\nvar tty = require('tty');\n\nvar util = require('util');\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n  // Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n  // eslint-disable-next-line import/no-extraneous-dependencies\n  var supportsColor = require('supports-color');\n\n  if (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n    exports.colors = [20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68, 69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134, 135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 214, 215, 220, 221];\n  }\n} catch (error) {} // Swallow - we only care if `supports-color` is available; it doesn't have to be.\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // Camel-case\n  var prop = key.substring(6).toLowerCase().replace(/_([a-z])/g, function (_, k) {\n    return k.toUpperCase();\n  }); // Coerce string value into JS value\n\n  var val = process.env[key];\n\n  if (/^(yes|on|true|enabled)$/i.test(val)) {\n    val = true;\n  } else if (/^(no|off|false|disabled)$/i.test(val)) {\n    val = false;\n  } else if (val === 'null') {\n    val = null;\n  } else {\n    val = Number(val);\n  }\n\n  obj[prop] = val;\n  return obj;\n}, {});\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts ? Boolean(exports.inspectOpts.colors) : tty.isatty(process.stderr.fd);\n}\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  var name = this.namespace,\n      useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var colorCode = \"\\x1B[3\" + (c < 8 ? c : '8;5;' + c);\n    var prefix = \"  \".concat(colorCode, \";1m\").concat(name, \" \\x1B[0m\");\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push(colorCode + 'm+' + module.exports.humanize(this.diff) + \"\\x1B[0m\");\n  } else {\n    args[0] = getDate() + name + ' ' + args[0];\n  }\n}\n\nfunction getDate() {\n  if (exports.inspectOpts.hideDate) {\n    return '';\n  }\n\n  return new Date().toISOString() + ' ';\n}\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\n\nfunction log() {\n  return process.stderr.write(util.format.apply(util, arguments) + '\\n');\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  if (namespaces) {\n    process.env.DEBUG = namespaces;\n  } else {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  return process.env.DEBUG;\n}\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\n\nfunction init(debug) {\n  debug.inspectOpts = {};\n  var keys = Object.keys(exports.inspectOpts);\n\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n')\n    .map(function (str) { return str.trim(); })\n    .join(' ');\n};\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\n\nformatters.O = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n","\"use strict\";\n\n/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n\n","import debugIt from 'debug'\n\nexport const debug = debugIt('sanity:cli')\n","/* eslint-disable no-sync */\nimport path from 'path'\nimport fs from 'fs'\nimport {debug} from '../debug'\n\n/**\n * Resolve project root directory, falling back to cwd if it cannot be found\n */\nexport function resolveRootDir(cwd: string): string {\n  try {\n    return resolveProjectRoot(cwd) || cwd\n  } catch (err) {\n    throw new Error(`Error occurred trying to resolve project root:\\n${err.message}`)\n  }\n}\n\nfunction hasStudioConfig(basePath: string): boolean {\n  const buildConfigs = [\n    fileExists(path.join(basePath, 'studio.config.js')),\n    fileExists(path.join(basePath, 'studio.config.ts')),\n    isSanityV2StudioRoot(basePath),\n  ]\n\n  return buildConfigs.some(Boolean)\n}\n\nfunction resolveProjectRoot(basePath: string, iterations = 0): string | false {\n  if (hasStudioConfig(basePath)) {\n    return basePath\n  }\n\n  const parentDir = path.resolve(basePath, '..')\n  if (parentDir === basePath || iterations > 30) {\n    // Reached root (or max depth), give up\n    return false\n  }\n\n  return resolveProjectRoot(parentDir, iterations + 1)\n}\n\nfunction isSanityV2StudioRoot(basePath: string): boolean {\n  try {\n    const content = fs.readFileSync(path.join(basePath, 'sanity.json'), 'utf8')\n    const sanityJson = JSON.parse(content)\n    const isRoot = Boolean(sanityJson?.root)\n    if (isRoot) {\n      debug('Found Sanity v2 studio root at %s', basePath)\n    }\n    return isRoot\n  } catch (err) {\n    return false\n  }\n}\n\nfunction fileExists(filePath: string): boolean {\n  return fs.existsSync(filePath)\n}\n","import sanityClient, {SanityClient} from '@sanity/client'\nimport {getCliConfigSync} from './util/getCliConfig'\nimport {resolveRootDir} from './util/resolveRootDir'\n\nexport interface CliClientOptions {\n  cwd?: string\n\n  projectId?: string\n  dataset?: string\n  useCdn?: boolean\n  token?: string\n  apiVersion?: string\n}\n\nexport function getCliClient(options: CliClientOptions = {}): SanityClient {\n  if (typeof process !== 'object') {\n    throw new Error('getCliClient() should only be called from node.js scripts')\n  }\n\n  const {\n    // eslint-disable-next-line no-process-env\n    cwd = process.env.SANITY_BASE_PATH || process.cwd(),\n    useCdn = false,\n    apiVersion = '2022-06-06',\n    projectId,\n    dataset,\n    token = getCliClient.__internal__getToken(),\n  } = options\n\n  if (projectId && dataset) {\n    return sanityClient({projectId, dataset, apiVersion, useCdn, token})\n  }\n\n  const rootDir = resolveRootDir(cwd)\n  const {config} = getCliConfigSync(rootDir) || {}\n  if (!config) {\n    throw new Error('Unable to resolve CLI configuration')\n  }\n\n  const apiConfig = config?.api || {}\n  if (!apiConfig.projectId || !apiConfig.dataset) {\n    throw new Error('Unable to resolve project ID/dataset from CLI configuration')\n  }\n\n  return sanityClient({\n    projectId: apiConfig.projectId,\n    dataset: apiConfig.dataset,\n    apiVersion,\n    useCdn,\n    token,\n  })\n}\n\n/* eslint-disable camelcase */\n/**\n * @internal\n * @deprecated This is only for INTERNAL use, and should not be relied upon outside of official Sanity modules\n * @returns A token to use when constructing a client without a `token` explicitly defined, or undefined\n */\ngetCliClient.__internal__getToken = (): string | undefined => undefined\n/* eslint-enable camelcase */\n"],"names":["createCliConfig","config","getOwnPropertySymbols","Object","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","toObject","val","undefined","TypeError","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","order2","map","n","join","test3","split","forEach","letter","keys","err","objectAssign","target","source","from","to","symbols","s","arguments","length","key","call","defineProperty","isFunction_1","value","isFunction","x","_enable_super_gross_mode_that_will_cause_bad_things","Promise","useDeprecatedSynchronousErrorHandling","error","Error","console","warn","stack","log","hostReportError_1","hostReportError","setTimeout","Observer","config_1","require$$0","require$$1","empty","closed","next","complete","isArray","Array","isObject_1","isObject","UnsubscriptionError","UnsubscriptionErrorImpl","errors","message","toString","name","create","Subscription_1","isArray_1","require$$2","UnsubscriptionError_1","require$$3","Subscription","unsubscribe","_parentOrParents","_subscriptions","_ctorUnsubscribe","_unsubscribe","_a","remove","index","parent_1","e","flattenUnsubscriptionErrors","len","sub","concat","push","add","teardown","subscription","EMPTY","tmp","indexOf","subscriptions","subscriptionIndex","splice","reduce","errs","exports","rxSubscriber","Symbol","Math","random","$$rxSubscriber","__extends","this","extendStatics","d","b","setPrototypeOf","__proto__","p","__","constructor","Subscriber_1","Observer_1","rxSubscriber_1","require$$4","require$$5","Subscriber","_super","destinationOrNext","_this","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","destination","SafeSubscriber","subscriber","_next","_error","_complete","_unsubscribeAndRecycle","_parentSubscriber","observerOrNext","context","bind","_context","__tryOrUnsub","__tryOrSetError","wrappedComplete","fn","parent","canReportError_1","canReportError","observer","closed_1","toSubscriber_1","toSubscriber","nextOrObserver","observable","identity_1","identity","pipe_1","pipe","fns","_i","pipeFromArray","piped","input","prev","Observable_1","observable_1","Observable","subscribe","_isScalar","_subscribe","lift","operator","sink","_trySubscribe","promiseCtor","getPromiseCtor","resolve","reject","operations","toPromise","filter_1","filter","predicate","thisArg","filterOperatorFunction","FilterOperator","FilterSubscriber","count","result","map_1","project","mapOperation","MapOperator","MapSubscriber","_require","_require2","_require3","getSelection","sel","id","query","params","selectionOpts","_typeof","obj","iterator","VALID_ASSET_TYPES","VALID_INSERT_LOCATIONS","dataset","test","projectId","validateAssetType","type","validateObject","op","requireDocumentId","doc","_id","validateDocumentId","validateInsert","at","selector","items","signature","valid","loc","hasDataset","requestTag","tag","_defineProperty","enumerable","configurable","writable","validate","Patch","selection","client","clone","set","props","_assign","diffMatchPatch","unset","attrs","setIfMissing","replace","_set","$","inc","dec","insert","_this$_assign","append","prepend","start","deleteCount","delAll","startIndex","delCount","max","delRange","rangeSelector","ifRevisionId","rev","ifRevisionID","serialize","toJSON","commit","options","returnFirst","opts","returnDocuments","mutate","patch","reset","merge","validators","defaultMutateOptions","Transaction","transactionId","trxId","slice","_add","createIfNotExists","createOrReplace","delete","_delete","documentId","patchOps","isBuilder","isPatch","mut","transaction","_excluded","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","sourceKeys","enc","encodeURIComponent","encodeQueryString","_ref","_ref$params","_ref$options","q","base","qString","qs","param","JSON","stringify","option","parse","events","https","http","util","httpsOptions","bom","colon","space","lineFeed","carriageReturn","maxBufferAheadAllocation","reUnsafeHeader","hasBom","buf","every","charCode","EventSource","url","eventSourceInitDict","readyState","CONNECTING","headers","hasNewOrigin","get","self","reconnectInterval","connectionInProgress","onConnectionClosed","CLOSED","_emit","Event","reconnectUrl","connect","req","lastEventId","discardTrailingNewline","data","eventName","isSecure","protocol","reqHeaders","removeUnsafeHeaders","header","rejectUnauthorized","createConnection","useProxy","proxy","path","Host","host","hostname","port","optName","withCredentials","request","res","statusCode","status","statusMessage","location","prevOrigin","URL","origin","nextOrigin","process","nextTick","close","OPEN","on","removeAllListeners","newBuffer","startingPos","startingFieldLength","newBufferSize","bytesUsed","chunk","Buffer","alloc","copy","pos","lineLength","fieldLength","c","parseEventStreamLine","setNoDelay","end","listeners","emit","apply","_close","abort","xhr","MessageEvent","noValue","step","field","valueLength","retry","parseInt","Number","isNaN","eventsource","inherits","EventEmitter","method","listener","_listener","addEventListener","dispatchEvent","event","detail","removeEventListener","removeListener","optionalProperties","f","eventInitDict","safe","module","pick","prop","defaults","ownKeys","object","enumerableOnly","sym","getOwnPropertyDescriptor","_objectSpread","getOwnPropertyDescriptors","defineProperties","polyfilledEventSource","MAX_URL_LENGTH","possibleOptions","defaultOptions","includeResult","listen","_this$clientConfig","clientConfig","token","requestTagPrefix","listenOpts","uri","getDataUrl","listenFor","shouldEmitReconnect","esOptions","Authorization","es","getEventSource","reconnectTimer","stopped","onError","emitReconnect","clearTimeout","open","onChannelError","cooerceError","onMessage","evt","parseEvent","onDisconnect","evs","stop","extractErrorMessage","description","require$$6","require$$7","excludeFalsey","defValue","getMutationQuery","dryRun","returnIds","visibility","autoGenerateArrayKeys","skipCrossDatasetReferenceValidation","isResponse","getBody","body","indexBy","docs","attr","indexed","getQuerySizeLimit","dataMethods","operation","catalog","baseUri","fetch","mapResponse","filterResponse","_dataRequest","isPromiseAPI","getDocument","json","_requestObservable","documents","getDocuments","ids","_create","dataRequest","mutations","muts","endpoint","isMutation","isQuery","strQuery","useGet","stringQuery","timeout","reqOptions","canUseCdn","results","document","mutation","DatasetsClient","_modify","edit","list","datasetsClient","ProjectsClient","getById","projectsClient","queryString","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","o","minLen","_arrayLikeToArray","arr2","_arr","_n","_d","_s","_e","done","AssetsClient","optionsFromFile","file","window","File","filename","preserveFilename","contentType","upload","assetType","meta","extract","assetEndpoint","label","title","creditLine","sourceId","sourceName","sourceUrl","docId","getImageUrl","ref","_id$split","_id$split2","assetId","size","format","_this$client$clientCo","assetsClient","UsersClient","usersClient","AuthClient","getLoginProviders","logout","authClient","construct","Reflect","captureStackTrace","container","getStack","setStack","BaseError","cname","setFunctionName","_","makeError","super_","properties","ClientError","extractErrorProps","super","ServerError","response","responseBody","stringifyBody","details","httpErrorMessage","toLowerCase","isJson","debug","pkg","middleware","verbose","namespace","version","maxRetries","nodeMiddleware","getIt","jsonRequest","jsonResponse","progress","httpError","onResponse","printWarnings","warnings","Boolean","msg","envSpecific","require$$8","implementation","httpRequest","requester","maxRedirects","defaultRequester","request_1","projectHeader","requestOptions","overrides","useGlobalApi","useProjectHostname","BASE_URL","generateHelpUrl","slug","once","didCall","returnValue","createWarningPrinter","_console","_len","args","_key","printCdnWarning","printBrowserTokenWarning","printNoApiVersionSpecifiedWarning","defaultCdnHost","defaultConfig","apiHost","apiVersion","LOCALHOSTS","isLocal","initConfig","prevConfig","specifiedConfig","newConfig","projectBased","helpUrl","isBrowser","isLocalhost","ignoreBrowserTokenWarning","useCdn","isDefaultApi","validateApiVersion","hostParts","cdnHost","cdnUrl","apiDate","Date","apiVersionValid","getTime","require$$9","require$$10","getRequestOptions","require$$11","require$$12","require$$13","SanityClient","assets","datasets","projects","users","auth","observableConfig","allowReconfigure","withConfig","getUrl","sanityClient","requireFunc","__webpack_require__","__non_webpack_require__","require","dynamicRequire","mod","__esModule","default","getCliConfigSync","cwd","v3Config","getSanityCliConfig","getSanityJsonConfig","configPath","fs","existsSync","loadJsonConfig","jsConfigPath","tsConfigPath","js","ts","importConfig","filePath","content","readFileSync","code","includes","warning","send","m","h","w","y","ms","isFinite","long","fmtLong","fmtShort","str","match","exec","parseFloat","msAbs","abs","round","plural","isPlural","setup","env","createDebug","coerce","disable","enable","enabled","humanize","instances","names","skips","formatters","selectColor","hash","charCodeAt","colors","prevTime","curr","diff","unshift","formatter","formatArgs","logFn","useColors","color","destroy","extend","init","delimiter","namespaces","save","RegExp","substr","instance","load","common","storage","localstorage","__nwjs","navigator","userAgent","documentElement","style","WebkitAppearance","firebug","exception","table","$1","lastC","setItem","removeItem","r","getItem","DEBUG","localStorage","j","v","hasFlag","flag","argv","prefix","startsWith","position","terminatorPosition","os","tty","forceColor","FORCE_COLOR","min","translateLevel","level","hasBasic","has256","has16m","supportsColor","haveStream","streamIsTTY","TERM","platform","osRelease","release","some","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","getSupportLevel","stream","isTTY","supportsColor_1","stdout","isatty","stderr","inspectOpts","substring","k","toUpperCase","fd","colorCode","getDate","hideDate","toISOString","write","inspect","trim","O","browser","debugIt","resolveRootDir","resolveProjectRoot","hasStudioConfig","basePath","buildConfigs","fileExists","isSanityV2StudioRoot","iterations","parentDir","sanityJson","isRoot","root","getCliClient","SANITY_BASE_PATH","__internal__getToken","rootDir","apiConfig","api"],"mappings":"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"}